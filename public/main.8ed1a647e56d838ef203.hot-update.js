/*! For license information please see main.8ed1a647e56d838ef203.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/normalize-wheel/index.js"),a=s.n(n),i=s("./node_modules/lodash/each.js"),o=s.n(i),h=s("./app/components/Canvas/index.js"),d=(s("./app/classes/Detection.js"),s("./app/components/Navigation.js")),c=s("./app/components/Preloader.js"),p=s("./app/pages/About/index.js"),r=s("./app/pages/Collections/index.js"),l=s("./app/pages/Home/index.js"),u=s("./app/pages/Detail/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new d.default({template:this.template})}createPreloader(){this.preloader=new c.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new r.default,home:new l.default,detail:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!0})}async onChange({url:e,push:t=!0}){if("https://marcossanchez.site/"==e||e.includes("/about")){this.canvas.onChangeStart(this.template,e),await this.page.hide();const s=await window.fetch(e);if(200===s.status){const n=await s.text(),a=document.createElement("div");t&&window.history.pushState({},"",e),a.innerHTML=n;const i=a.querySelector(".content");this.template=i.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=i.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.error(`response status: ${s.status}`)}else window.open(`${e}`,"_blank")}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=a()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");o()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange({url:s})}}))}}}},(function(e){e.h=()=>"1149c13bae75a2862758"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU1DLGlCQUVOLE1BQU0sS0FBRUMsR0FBU0osRUFDakI3RSxLQUFLcUMsU0FBUyxDQUFFQyxJQUFLMkMseUJDck83QkMsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb2VtYS8uL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi9cblxuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gXCJub3JtYWxpemUtd2hlZWxcIjtcblxuaW1wb3J0IGVhY2ggZnJvbSBcImxvZGFzaC9lYWNoXCI7XG5cbmltcG9ydCBDYW52YXMgZnJvbSBcImNvbXBvbmVudHMvQ2FudmFzXCI7XG5pbXBvcnQgRGV0ZWN0aW9uIGZyb20gXCJjbGFzc2VzL0RldGVjdGlvblwiO1xuXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiY29tcG9uZW50cy9OYXZpZ2F0aW9uXCI7XG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gXCJjb21wb25lbnRzL1ByZWxvYWRlclwiO1xuXG5pbXBvcnQgQWJvdXQgZnJvbSBcInBhZ2VzL0Fib3V0XCI7XG5pbXBvcnQgQ29sbGVjdGlvbnMgZnJvbSBcInBhZ2VzL0NvbGxlY3Rpb25zXCI7XG5pbXBvcnQgSG9tZSBmcm9tIFwicGFnZXMvSG9tZVwiO1xuaW1wb3J0IERldGFpbCBmcm9tIFwicGFnZXMvRGV0YWlsXCI7XG5cbmNsYXNzIEFwcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY3JlYXRlQ29udGVudCgpO1xuXG4gICAgdGhpcy5jcmVhdGVDYW52YXMoKTtcbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpO1xuICAgIHRoaXMuY3JlYXRlTmF2aWdhdGlvbigpO1xuICAgIHRoaXMuY3JlYXRlUGFnZXMoKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjcmVhdGVOYXZpZ2F0aW9uKCkge1xuICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHtcbiAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlUHJlbG9hZGVyKCkge1xuICAgIHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcih7XG4gICAgICBjYW52YXM6IHRoaXMuY2FudmFzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wcmVsb2FkZXIub25jZShcImNvbXBsZXRlZFwiLCB0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZW1wbGF0ZVwiKTtcbiAgfVxuXG4gIGNyZWF0ZVBhZ2VzKCkge1xuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBob21lOiBuZXcgSG9tZSgpLFxuICAgICAgZGV0YWlsOiBuZXcgRGV0YWlsKCksXG4gICAgfTtcblxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV07XG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpO1xuICB9XG5cbiAgLypcbiAgICogRXZlbnRzXG4gICAqL1xuXG4gIG9uUHJlbG9hZGVkKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMuY2FudmFzLm9uUHJlbG9hZGVkKCk7XG5cbiAgICB0aGlzLnBhZ2Uuc2hvdygpO1xuICB9XG5cbiAgb25Qb3BTdGF0ZSgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKHtcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgcHVzaDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2hhbmdlKHsgdXJsLCBwdXNoID0gdHJ1ZSB9KSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJwYXRobmFtZTogXCIsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgLy8gY29uc29sZS5sb2coXCJ3aW5kb3cubG9jYXRpb246IFwiLCB3aW5kb3cubG9jYXRpb24pO1xuICAgIC8vIGNvbnNvbGUubG9nKFwidXJsOiBcIiwgdXJsKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcInVybCA9PSAvOiBcIiwgdXJsID09IFwiL1wiKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcInVybCBpbmNsdWRlcyBBYm91dDogXCIsIHVybC5pbmNsdWRlcyhcIi9hYm91dFwiKSk7XG4gICAgLy8gY29uc29sZS5sb2coXCJ1cmwgcGF0aG5hbWUgPT09IEhvbWU6IFwiLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gXCIvXCIpO1xuXG4gICAgaWYgKHVybCA9PSBcImh0dHBzOi8vbWFyY29zc2FuY2hlei5zaXRlL1wiIHx8IHVybC5pbmNsdWRlcyhcIi9hYm91dFwiKSkge1xuICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2VTdGFydCh0aGlzLnRlbXBsYXRlLCB1cmwpO1xuXG4gICAgICBhd2FpdCB0aGlzLnBhZ2UuaGlkZSgpO1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKTtcblxuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBpZiAocHVzaCkge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgdXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIGNvbnN0IGRpdkNvbnRlbnQgPSBkaXYucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGVtcGxhdGVcIik7XG5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpO1xuXG4gICAgICAgIHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRlbXBsYXRlXCIsIHRoaXMudGVtcGxhdGUpO1xuICAgICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gZGl2Q29udGVudC5pbm5lckhUTUw7XG5cbiAgICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2VFbmQodGhpcy50ZW1wbGF0ZSk7XG5cbiAgICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXTtcbiAgICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpO1xuXG4gICAgICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgICAgICB0aGlzLnBhZ2Uuc2hvdygpO1xuXG4gICAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgcmVzcG9uc2Ugc3RhdHVzOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5vcGVuKGAke3VybH1gLCBcIl9ibGFua1wiKTtcblxuICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmFzc2lnbihgJHt1cmx9YCk7XG4gICAgfVxuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25SZXNpemUpIHtcbiAgICAgIHRoaXMucGFnZS5vblJlc2l6ZSgpO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKF8pID0+IHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25Ub3VjaERvd24oZSkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZSk7XG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaE1vdmUoZSkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZSkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUoZSk7XG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaFVwKGUpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaFVwKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoVXAoZSk7XG4gICAgfVxuICB9XG5cbiAgb25XaGVlbChlKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFdoZWVsID0gTm9ybWFsaXplV2hlZWwoZSk7XG5cbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25XaGVlbCkge1xuICAgICAgdGhpcy5jYW52YXMub25XaGVlbChub3JtYWxpemVkV2hlZWwpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uV2hlZWwpIHtcbiAgICAgIHRoaXMucGFnZS5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIExPb3BcbiAgICovXG5cbiAgdXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLnVwZGF0ZSkge1xuICAgICAgdGhpcy5wYWdlLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy51cGRhdGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnVwZGF0ZSh0aGlzLnBhZ2Uuc2Nyb2xsKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qXG4gICAqIExpc3RlbmVyc1xuICAgKi9cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIiwgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhZGRMaW5rTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImFcIik7XG5cbiAgICBlYWNoKGxpbmtzLCAobGluaykgPT4ge1xuICAgICAgbGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgeyBocmVmIH0gPSBsaW5rO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlKHsgdXJsOiBocmVmIH0pO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVxuXG5uZXcgQXBwKCk7XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCIxMTQ5YzEzYmFlNzVhMjg2Mjc1OFwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlTmF2aWdhdGlvbiIsImNyZWF0ZVBhZ2VzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRMaW5rTGlzdGVuZXJzIiwib25SZXNpemUiLCJ1cGRhdGUiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbiIsInRlbXBsYXRlIiwicHJlbG9hZGVyIiwiUHJlbG9hZGVyIiwiY2FudmFzIiwib25jZSIsIm9uUHJlbG9hZGVkIiwiYmluZCIsIkNhbnZhcyIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiaG9tZSIsIkhvbWUiLCJkZXRhaWwiLCJEZXRhaWwiLCJwYWdlIiwiY3JlYXRlIiwic2hvdyIsIm9uUG9wU3RhdGUiLCJvbkNoYW5nZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwiaW5jbHVkZXMiLCJvbkNoYW5nZVN0YXJ0IiwiaGlkZSIsInJlcyIsImZldGNoIiwic3RhdHVzIiwiaHRtbCIsInRleHQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImlubmVySFRNTCIsImRpdkNvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJvbkNoYW5nZUVuZCIsImNvbnNvbGUiLCJlcnJvciIsIm9wZW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfIiwib25Ub3VjaERvd24iLCJlIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwibm9ybWFsaXplZFdoZWVsIiwiTm9ybWFsaXplV2hlZWwiLCJzY3JvbGwiLCJmcmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwibGluayIsIm9uY2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiaHJlZiIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==